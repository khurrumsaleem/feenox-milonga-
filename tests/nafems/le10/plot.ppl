set width 18*unit(cm)
set axis x arrow nomirrored
set axis y arrow nomirrored

set grid
set terminal pdf

set key above

set xlabel "Total degrees of freedom"
set ylabel "$\\sigma_y(D)$"
set output "sigmay-tet-linear.pdf"

plot -5.38 w l lw 3 lt 1 color Tan ti "Reference",\
"feenox-tet.dats"       u 2:3         w l lw 2   lt 3  color Grey10    ti "",\
"feenox-tet.dats"       u 2:3 every 4 w p pt 18        color Grey10    ti "FeenoX GAMG tet",\
"feenox_mumps-tet.dats" u 2:3         w l lw 2   lt 5  color Grey40    ti "",\
"feenox_mumps-tet.dats" u 2:3 every 7 w p pt 22        color Grey40    ti "FeenoX MUMPS tet",\
"sparselizard-tet.dats" u 2:3         w l lw 1   lt 7  color Navyblue  ti "",\
"sparselizard-tet.dats" u 2:3 every 2 w p pt 13        color Navyblue  ti "Sparselizard tet",\
"aster-tet.dats"        u 2:3         w l lw 1   lt 9  color Limegreen ti "",\
"aster-tet.dats"        u 2:3 every 4 w p pt 15        color Limegreen ti "Code Aster tet",\
"calculix-tet.dats"     u 2:3         w l lw 1   lt 11 color Orange    ti "",\
"calculix-tet.dats"     u 2:3 every 5 w p pt 15        color Orange    ti "CalculiX tet"
set logscale x
set yrange [-5.38-0.1:-5.38+0.1]
set output "sigmay-tet-log.pdf"
replot

# unset logscale x
# set yrange [*:*]
# set output "sigmay-hex-linear.pdf"
# 
# plot -5.38 w l lw 3 lt 1 color Tan ti "Reference",\
# "feenox-hex.dats"       u 2:3         w l lw 2   lt 2  color Black     ti "",\
# "feenox-hex.dats"       u 2:3 every 3 w p pt 16        color Black     ti "FeenoX GAMG hex",\
# "feenox_mumps-hex.dats" u 2:3         w l lw 2   lt 4  color Grey20    ti "",\
# "feenox_mumps-hex.dats" u 2:3 every 5 w p pt 17        color Grey20    ti "FeenoX MUMPS hex",\
# "sparselizard-hex.dats" u 2:3         w l lw 1   lt 6  color Cadetblue ti "",\
# "sparselizard-hex.dats" u 2:3 every 7 w p pt 12        color Cadetblue ti "Sparselizard hex",\
# "aster-hex.dats"        u 2:3         w l lw 1   lt 8  color Green     ti "",\
# "aster-hex.dats"        u 2:3 every 6 w p pt  1        color Green     ti "Code Aster hex"
# 
# set logscale x
# set yrange [-5.38-0.1:-5.38+0.1]
# set output "sigmay-hex-log.pdf"
# 
# replot

set xrange [*:*]
set yrange [*:*]

unset logscale x
unset logscale y
set ylabel "Wall time [seconds]"
set output "wall-tet-linear.pdf"

plot \
"feenox-tet.dats"       u 2:4         w l lw 2   lt 3  color Grey10    ti "",\
"feenox-tet.dats"       u 2:4 every 4 w p pt 18        color Grey10    ti "FeenoX GAMG tet",\
"feenox_mumps-tet.dats" u 2:4         w l lw 2   lt 5  color Grey40    ti "",\
"feenox_mumps-tet.dats" u 2:4 every 7 w p pt 22        color Grey40    ti "FeenoX MUMPS tet",\
"sparselizard-tet.dats" u 2:4         w l lw 1   lt 7  color Navyblue  ti "",\
"sparselizard-tet.dats" u 2:4 every 2 w p pt 13        color Navyblue  ti "Sparselizard tet",\
"aster-tet.dats"        u 2:4         w l lw 1   lt 9  color Limegreen ti "",\
"aster-tet.dats"        u 2:4 every 4 w p pt 15        color Limegreen ti "Code Aster tet",\
"calculix-tet.dats"     u 2:4         w l lw 1   lt 11 color Orange    ti "",\
"calculix-tet.dats"     u 2:4 every 5 w p pt 15        color Orange    ti "CalculiX tet"

set logscale x
set logscale y
set output "wall-tet-log.pdf"
replot

# unset logscale x
# unset logscale y
# set output "wall-hex-linear.pdf"
# plot \
# "feenox-hex.dats"       u 2:4         w l lw 2   lt 2  color Black     ti "",\
# "feenox-hex.dats"       u 2:4 every 3 w p pt 16        color Black     ti "FeenoX GAMG hex",\
# "feenox_mumps-hex.dats" u 2:4         w l lw 2   lt 4  color Grey20    ti "",\
# "feenox_mumps-hex.dats" u 2:4 every 5 w p pt 17        color Grey20    ti "FeenoX MUMPS hex",\
# "sparselizard-hex.dats" u 2:4         w l lw 1   lt 6  color Cadetblue ti "",\
# "sparselizard-hex.dats" u 2:4 every 3 w p pt 12        color Cadetblue ti "Sparselizard hex",\
# "aster-hex.dats"        u 2:4         w l lw 1   lt 8  color Green     ti "",\
# "aster-hex.dats"        u 2:4 every 3 w p pt  1        color Green     ti "Code Aster hex"
# 
# set logscale x
# set logscale y
# set output "wall-hex-log.pdf"
# replot

unset logscale x
unset logscale y
set ylabel "Kernel time [seconds]"
set output "kernel-tet-linear.pdf"

plot \
"feenox-tet.dats"       u 2:5         w l lw 2   lt 3  color Grey10    ti "",\
"feenox-tet.dats"       u 2:5 every 4 w p pt 18        color Grey10    ti "FeenoX GAMG tet",\
"feenox_mumps-tet.dats" u 2:5         w l lw 2   lt 5  color Grey40    ti "",\
"feenox_mumps-tet.dats" u 2:5 every 7 w p pt 22        color Grey40    ti "FeenoX MUMPS tet",\
"sparselizard-tet.dats" u 2:5         w l lw 1   lt 7  color Navyblue  ti "",\
"sparselizard-tet.dats" u 2:5 every 2 w p pt 13        color Navyblue  ti "Sparselizard tet",\
"aster-tet.dats"        u 2:5         w l lw 1   lt 9  color Limegreen ti "",\
"aster-tet.dats"        u 2:5 every 4 w p pt 15        color Limegreen ti "Code Aster tet",\
"calculix-tet.dats"     u 2:5         w l lw 1   lt 11 color Orange    ti "",\
"calculix-tet.dats"     u 2:5 every 5 w p pt 15        color Orange    ti "CalculiX tet"

set logscale x
set logscale y
set output "kernel-tet-log.pdf"
replot

unset logscale x
unset logscale y
set output "kernel-hex-linear.pdf"

# plot \
# "feenox-hex.dats"       u 2:5         w l lw 2   lt 2  color Black     ti "",\
# "feenox-hex.dats"       u 2:5 every 3 w p pt 16        color Black     ti "FeenoX GAMG hex",\
# "feenox_mumps-hex.dats" u 2:5         w l lw 2   lt 4  color Grey20    ti "",\
# "feenox_mumps-hex.dats" u 2:5 every 5 w p pt 17        color Grey20    ti "FeenoX MUMPS hex",\
# "sparselizard-hex.dats" u 2:5         w l lw 1   lt 6  color Cadetblue ti "",\
# "sparselizard-hex.dats" u 2:5 every 3 w p pt 12        color Cadetblue ti "Sparselizard hex",\
# "aster-hex.dats"        u 2:5         w l lw 1   lt 8  color Green     ti "",\
# "aster-hex.dats"        u 2:5 every 3 w p pt  1        color Green     ti "Code Aster hex"
# 
# set logscale x
# set logscale y
# set output "kernel-hex-linear.pdf"
# replot

unset logscale x
unset logscale y
set ylabel "User time [seconds]"
set output "user-tet-linear.pdf"

plot \
"feenox-tet.dats"       u 2:6         w l lw 2   lt 3  color Grey10    ti "",\
"feenox-tet.dats"       u 2:6 every 4 w p pt 18        color Grey10    ti "FeenoX GAMG tet",\
"feenox_mumps-tet.dats" u 2:6         w l lw 2   lt 5  color Grey40    ti "",\
"feenox_mumps-tet.dats" u 2:6 every 7 w p pt 22        color Grey40    ti "FeenoX MUMPS tet",\
"sparselizard-tet.dats" u 2:6         w l lw 1   lt 7  color Navyblue  ti "",\
"sparselizard-tet.dats" u 2:6 every 2 w p pt 13        color Navyblue  ti "Sparselizard tet",\
"aster-tet.dats"        u 2:6         w l lw 1   lt 9  color Limegreen ti "",\
"aster-tet.dats"        u 2:6 every 4 w p pt 15        color Limegreen ti "Code Aster tet",\
"calculix-tet.dats"     u 2:6         w l lw 1   lt 11 color Orange    ti "",\
"calculix-tet.dats"     u 2:6 every 5 w p pt 15        color Orange    ti "CalculiX tet"


set logscale x
set logscale y
set output "user-tet-log.pdf"
replot

# unset logscale x
# unset logscale y
# set output "user-hex-linear.pdf"
# 
# plot \
# "feenox-hex.dats"       u 2:6         w l lw 2   lt 2  color Black     ti "",\
# "feenox-hex.dats"       u 2:6 every 3 w p pt 16        color Black     ti "FeenoX GAMG hex",\
# "feenox_mumps-hex.dats" u 2:6         w l lw 2   lt 4  color Grey20    ti "",\
# "feenox_mumps-hex.dats" u 2:6 every 5 w p pt 17        color Grey20    ti "FeenoX MUMPS hex",\
# "sparselizard-hex.dats" u 2:6         w l lw 1   lt 6  color Cadetblue ti "",\
# "sparselizard-hex.dats" u 2:6 every 3 w p pt 12        color Cadetblue ti "Sparselizard hex",\
# "aster-hex.dats"        u 2:6         w l lw 1   lt 8  color Green     ti "",\
# "aster-hex.dats"        u 2:6 every 3 w p pt  1        color Green     ti "Code Aster hex"
# set logscale x
# set logscale y
# set output "user-hex-log.pdf"
# replot


unset logscale x
unset logscale y
set ylabel "Memory"
set output "memory-tet-linear.pdf"

plot \
"feenox-tet.dats"       u 2:7         w l lw 2   lt 3  color Grey10    ti "",\
"feenox-tet.dats"       u 2:7 every 4 w p pt 18        color Grey10    ti "FeenoX GAMG tet",\
"feenox_mumps-tet.dats" u 2:7         w l lw 2   lt 5  color Grey40    ti "",\
"feenox_mumps-tet.dats" u 2:7 every 7 w p pt 22        color Grey40    ti "FeenoX MUMPS tet",\
"sparselizard-tet.dats" u 2:7         w l lw 1   lt 7  color Navyblue  ti "",\
"sparselizard-tet.dats" u 2:7 every 2 w p pt 13        color Navyblue  ti "Sparselizard tet",\
"aster-tet.dats"        u 2:7         w l lw 1   lt 9  color Limegreen ti "",\
"aster-tet.dats"        u 2:7 every 4 w p pt 15        color Limegreen ti "Code Aster tet",\
"calculix-tet.dats"     u 2:7         w l lw 1   lt 11 color Orange    ti "",\
"calculix-tet.dats"     u 2:7 every 5 w p pt 15        color Orange    ti "CalculiX tet"

set logscale x
set logscale y
set output "memory-tet-log.pdf"
replot

# unset logscale x
# unset logscale y
# set output "memory-hex.pdf"
# 
# plot \
# "feenox-hex.dats"       u 2:7         w l lw 2   lt 2  color Black     ti "",\
# "feenox-hex.dats"       u 2:7 every 3 w p pt 16        color Black     ti "FeenoX GAMG hex",\
# "feenox_mumps-hex.dats" u 2:7         w l lw 2   lt 4  color Grey20    ti "",\
# "feenox_mumps-hex.dats" u 2:7 every 5 w p pt 17        color Grey20    ti "FeenoX MUMPS hex",\
# "sparselizard-hex.dats" u 2:7         w l lw 1   lt 6  color Cadetblue ti "",\
# "sparselizard-hex.dats" u 2:7 every 3 w p pt 12        color Cadetblue ti "Sparselizard hex",\
# "aster-hex.dats"        u 2:7         w l lw 1   lt 8  color Green     ti "",\
# "aster-hex.dats"        u 2:7 every 3 w p pt  1        color Green     ti "Code Aster hex"
# 
# set logscale x
# set logscale y
# set output "memory-hex-log.pdf"
# replot
